#include "pch.h"
#include "CppUnitTest.h"

#include "..\Project1\zadnaparnika.cpp"

using namespace Microsoft::VisualStudio::CppUnitTestFramework;

namespace UnitTest1
{
    TEST_CLASS(UnitConverterTests)
    {
    public:
        
        // Тесты для Celsius -> Fahrenheit
        TEST_METHOD(CelsiusToFahrenheit_FreezingPoint_Returns32)
        {
            double celsius = 0.0;
            double expected = 32.0;

            double result = UnitConverter::celsiusToFahrenheit(celsius);
            
            Assert::AreEqual(expected, result, 0.001);
        }

        TEST_METHOD(CelsiusToFahrenheit_BoilingPoint_Returns212)
        {
            double celsius = 100.0;
            double expected = 212.0;

            double result = UnitConverter::celsiusToFahrenheit(celsius);
            
            Assert::AreEqual(expected, result, 0.001);
        }

        TEST_METHOD(CelsiusToFahrenheit_RoomTemperature_Returns77)
        {
            double celsius = 25.0;
            double expected = 77.0;

            double result = UnitConverter::celsiusToFahrenheit(celsius);
            
            Assert::AreEqual(expected, result, 0.001);
        }

        TEST_METHOD(CelsiusToFahrenheit_BelowAbsoluteZero_ThrowsException)
        {
            auto func = [] {
                UnitConverter::celsiusToFahrenheit(-300.0);
            };

            Assert::ExpectException<std::invalid_argument>(func);
        }

        TEST_METHOD(CelsiusToFahrenheit_AbsoluteZero_ReturnsCorrect)
        {
            double celsius = -273.15;
            double expected = -459.67;

            double result = UnitConverter::celsiusToFahrenheit(celsius);
            
            Assert::AreEqual(expected, result, 0.001);
        }
    };
}